{"version":3,"sources":["NewPerson.js","Notification.js","Person.js","PersonsList.js","Search.js","services/communication.js","App.js","index.js"],"names":["NewPerson","props","react_default","a","createElement","Fragment","onSubmit","value","name","onChange","onChangeName","number","onChangeNumber","type","Notification","message","style","error","margin","padding","backgroundColor","border","borderRadius","borderColor","color","Person","onClick","onDelete","id","PersonsList","filtered","map","person","src_Person","key","delete","Search","filter","url","communication","axios","get","then","res","data","newObject","post","put","concat","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","filteredNumbers","setFilteredNumbers","_useState11","_useState12","notification","setNotification","_useState13","_useState14","hasError","setHasError","useEffect","numberService","numbers","match","RegExp","src_Search","event","target","src_Notification","src_NewPerson","preventDefault","numberObject","undefined","equality","sameNumber","forEach","push","every","x","length","setTimeout","updatingPerson","find","updatedPerson","objectSpread","window","confirm","catch","alert","src_PersonsList","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.f5031951.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst NewPerson = (props) => {\r\n  return (\r\n    <>\r\n      <form onSubmit={props.onSubmit}>\r\n        <div>\r\n          name: <input value={props.name} onChange={props.onChangeName} />\r\n        </div>\r\n        <div>\r\n          number: <input value={props.number} onChange={props.onChangeNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NewPerson;\r\n","import React from \"react\";\r\n\r\nconst Notification = (props) => {\r\n  if (props.message === null) return null;\r\n\r\n  const normalStyle = {\r\n    margin: \"2rem\",\r\n    padding: \"0.5rem\",\r\n    backgroundColor: \"lightcyan\",\r\n    border: \"solid\",\r\n    borderRadius: \"0.3rem\",\r\n    borderColor: \"green\",\r\n    color: \"green\",\r\n  };\r\n\r\n  const errorStyle = {\r\n    margin: \"2rem\",\r\n    padding: \"0.5rem\",\r\n    backgroundColor: \"salmon\",\r\n    border: \"solid\",\r\n    borderRadius: \"0.3rem\",\r\n    borderColor: \"red\",\r\n    color: \"red\",\r\n  };\r\n\r\n  return (\r\n    <div style={props.error ? errorStyle : normalStyle}>{props.message}</div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React from \"react\";\r\n\r\nconst Person = (props) => {\r\n\r\n  const deleteHandler = () => {\r\n    props.onDelete(props.id, props.name)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <p>\r\n        {props.name} {props.number} <button onClick={deleteHandler}>delete</button>\r\n      </p>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\n\r\nimport Person from \"./Person\";\r\n\r\nconst PersonsList = (props) => {\r\n  return (\r\n    <>\r\n      {props.filtered.map((person) => (\r\n        <Person key={person.id} id={person.id} name={person.name} number={person.number} onDelete={props.delete} />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PersonsList;\r\n","import React from \"react\";\r\n\r\nconst Search = (props) => {\r\n  return (\r\n    <>\r\n      Filter by name: <input value={props.filter} onChange={props.onChange} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import axios from \"axios\";\r\n\r\nconst url = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(url).then((res) => res.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(url, newObject).then((res) => res.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${url}/${id}`, newObject).then((res) => res.data);\r\n};\r\n\r\nconst deleteObject = (id) => {\r\n  return axios.delete(`${url}/${id}`);\r\n};\r\n\r\nexport default { getAll, create, update, deleteObject };\r\n","import React, { useEffect, useState } from \"react\";\n\nimport NewPerson from \"./NewPerson\";\nimport Notification from \"./Notification\";\nimport PersonsList from \"./PersonsList\";\nimport Search from \"./Search\";\n\nimport numberService from \"./services/communication\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [filteredNumbers, setFilteredNumbers] = useState(persons);\n  const [notification, setNotification] = useState(null);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    numberService.getAll().then((numbers) => setPersons(numbers));\n  }, []);\n\n  useEffect(() => {\n    const match = new RegExp(filter, \"gi\");\n    const filtered = persons.filter((person) => person.name.match(match));\n    setFilteredNumbers(filtered);\n  }, [filter, persons]);\n\n  const deleteHandler = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      numberService.deleteObject(id);\n      setPersons(\n        persons.filter((person) => {\n          return person.id !== id;\n        })\n      );\n    }\n  };\n\n  const addNumberHandler = (event) => {\n    event.preventDefault();\n    const numberObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    if (newName === \"\" || newName === undefined) {\n      alert(\"Please enter a name\");\n      return;\n    }\n    if (newNumber === \"\" || newNumber === undefined) {\n      alert(\"Please enter a number\");\n      return;\n    }\n\n    var equality = false;\n\n    const sameNumber = [];\n    persons.forEach((person) => {\n      if (!(person.name === numberObject.name)) {\n        sameNumber.push(false);\n      } else {\n        sameNumber.push(true);\n      }\n\n      if (sameNumber.every((x) => x === false)) {\n        equality = true;\n        return;\n      }\n      equality = false;\n    });\n    if (persons.length === 0) {\n      equality = true;\n    }\n    if (equality === false) {\n      const updatingPerson = persons.find((person) => person.name === newName);\n      const updatedPerson = { ...updatingPerson, number: newNumber };\n      if (\n        window.confirm(\n          `${newName} is already added to the phonebook. Replace the old number with a new one?`\n        )\n      ) {\n        numberService\n          .update(updatingPerson.id, updatedPerson)\n          .then((res) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== updatingPerson.id ? person : res\n              )\n            );\n            setNotification(`${newName} updated!`);\n            setTimeout(() => setNotification(null), 5000);\n          })\n          .catch((error) => {\n            setNotification(\n              `Information of ${newName} has already been removed from the server`\n            );\n            setHasError(true);\n            setTimeout(() => {\n              setNotification(null);\n              setHasError(false);\n            }, 5000);\n            setPersons(\n              persons.filter((person) => {\n                return person.id !== updatingPerson.id;\n              })\n            );\n          });\n        setNewName(\"\");\n        setNewNumber(\"\");\n      }\n      return;\n    }\n    numberService.create(numberObject).then((newNumber) => {\n      setPersons(persons.concat(newNumber));\n      setNotification(`Added ${newName}`);\n      setTimeout(() => setNotification(null), 5000);\n\n      setNewName(\"\");\n      setNewNumber(\"\");\n    });\n  };\n\n  const changeNameHandler = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const changeNumberHandler = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const filterNumberHandler = (event) => {\n    setFilter(event.target.value);\n  };\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <div>\n        <Search filter={filter} onChange={filterNumberHandler} />\n      </div>\n      <Notification message={notification} error={hasError} />\n      <h2>Add a new</h2>\n      <NewPerson\n        onSubmit={addNumberHandler}\n        name={newName}\n        number={newNumber}\n        onChangeName={changeNameHandler}\n        onChangeNumber={changeNumberHandler}\n      />\n      <h2>Numbers</h2>\n      <div>\n        <PersonsList filtered={filteredNumbers} delete={deleteHandler} />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\n\nReactDOM.createRoot(document.getElementById(\"root\")).render(<App />);\n"],"sourceRoot":""}